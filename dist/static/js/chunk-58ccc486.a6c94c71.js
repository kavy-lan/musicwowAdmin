(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58ccc486"],{3123:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var i=a("b775");function l(){return Object(i["a"])({url:"/qiniu/upload/token",method:"get"})}},"7e25":function(t,e,a){"use strict";var i=a("9255"),l=a.n(i);l.a},"91b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var i=a("b775");function l(){return Object(i["a"])({url:"public/upload_config",method:"get"})}},9255:function(t,e,a){},b3d8:function(t,e,a){"use strict";a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return n})),a.d(e,"c",(function(){return r}));var i=a("b775");function l(t,e,a){return Object(i["a"])({url:"cs/book",method:"get",params:{page:t,limit:"10",filters:e,ops:a}})}function o(t){return Object(i["a"])({url:"cs/book",method:"delete",params:{ids:t}})}function s(t){return Object(i["a"])({url:"cs/book",method:"post",data:t})}function n(t){return Object(i["a"])({url:"cs/book/".concat(t),method:"get"})}function r(t,e){return Object(i["a"])({url:"cs/book/".concat(t),method:"PUT",data:e})}},ed5d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新建教材",visible:t.dialogVisible,width:"100%","custom-class":"customWidth",center:"",top:"0","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"left"},[a("div",[a("label",[t._v("教材名称:")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入教材名称，字数最多20字内",maxlength:"19"},model:{value:t.materialName,callback:function(e){t.materialName=e},expression:"materialName"}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材封面:",size:"2097152",type:".jpg,.png",limit:1},on:{files:t.materialCover}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材课时封面:",type:".jpg,.png",size:"2097152",limit:1},on:{files:t.materialClassCover}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片尺寸120x120并小于1M，格式为png",label:"乐器图标:",type:".png",limit:1,size:"1048576"},on:{files:t.icon}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材目标:")]),t._v(" "),a("el-input",{staticClass:"input Target",attrs:{placeholder:"请输入教材目标，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:t.materialTarget,callback:function(e){t.materialTarget=e},expression:"materialTarget"}})],1)]),t._v(" "),a("div",{staticClass:"right"},[a("div",[a("single-image",{attrs:{msg:"视频格式为mp4",label:"教材介绍视频:",type:".mp4",limit:1},on:{files:t.materialVideo}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材文字详情:")]),t._v(" "),a("el-input",{staticClass:"input textarea",attrs:{placeholder:"请输入教材文字详情，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:t.materialDetail,callback:function(e){t.materialDetail=e},expression:"materialDetail"}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材详情图:",type:".jpg,.png",size:"2097152"},on:{files:t.materialDetailed}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材目录：")]),t._v(" "),t.Catalogue.length>0?a("div",{staticClass:"allCatalogue"},[a("span",[t._v("共")]),t._v(" "),a("div",{staticStyle:{margin:"0 5px 0 5px","text-align":"center"}},[t._v(t._s(t.Catalogue.length))]),t._v(" "),a("span",[t._v("个目录")])]):t._e(),t._v(" "),t.Catalogue.length>0?a("div",{staticClass:"materialCatalogue"},t._l(t.Catalogue,(function(e,i){return a("div",{key:i,staticClass:"oneCatalogue"},[a("svg-icon",{staticClass:"laji",attrs:{"class-name":"search-icon","icon-class":"laji"},on:{click:function(e){return t.deleCatalogue(i)}}}),t._v(" "),a("div",{staticClass:"No",staticStyle:{"text-align":"center"}},[t._v(t._s(i+1))]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入目录名称，字数最多20字内",maxlength:"20"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1)})),0):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.newCatalogue}},[t._v("新增")])],1),t._v(" "),a("div",{staticStyle:{width:"630px"}},[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("单价课价格：")]),t._v(" "),a("el-radio-group",{attrs:{"text-color":"#585B63"},on:{change:t.radioChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio",{staticStyle:{display:"block"},attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1),t._v(" "),t.priceShow?a("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[a("el-input",{staticClass:"input",staticStyle:{width:"106px"},attrs:{placeholder:"请输入价格",maxlength:"20"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v(" "),a("span",[t._v("元/30分钟")])],1):t._e()],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.addA}},[t._v("确 定")])],1)])},l=[],o=a("b3d8"),s=a("70a2"),n=a("5c96"),r={components:{SingleImage:s["a"]},props:["dialogVisible"],data:function(){return{dialogVisibleii:this.dialogVisible,radio:0,materialName:"",materialTarget:"",materialDetail:"",price:0,remark:"",Catalogue:[],CatalogueNum:0,openPrice:0,priceShow:!1,materialCoverI:"",materialClassCoverI:"",iconI:"",materialVideoV:"",materialDetailedI:""}},methods:{close:function(){this.$emit("close",!1)},file:function(t){console.log(t)},handleClose:function(){this.$emit("close",!1)},materialCover:function(t){this.materialCoverI=t[0].url},materialClassCover:function(t){this.materialClassCoverI=t[0].url},icon:function(t){this.iconI=t[0].url},materialVideo:function(t){this.materialVideoV=t[0].url},materialDetailed:function(t){this.materialDetailedI=t[0].url},newCatalogue:function(){this.CatalogueNum=this.CatalogueNum+1,this.CatalogueNum<=9?this.Catalogue.push({directory_no:parseInt("0".concat(this.CatalogueNum)),title:""}):this.Catalogue.push({directory_no:parseInt("".concat(this.CatalogueNum)),title:""})},deleCatalogue:function(t){this.Catalogue.splice(t,1),console.log(this.Catalogue)},radioChange:function(t){1==t?(this.priceShow=!0,this.openPrice=1):(this.priceShow=!1,this.openPrice=0,this.price=0),console.log(t)},addA:function(){for(var t=this,e=[],a=0;a<this.Catalogue.length;a++)this.Catalogue[a].title.trim()&&e.push(this.Catalogue[a]);var i={title:this.materialName,cover:this.materialCoverI,class_cover:this.materialClassCoverI,icon:this.iconI,goal:this.materialTarget,video:this.materialVideoV,details:this.materialDetail,details_image:this.materialDetailedI,is_class_price:this.openPrice,directory_list:e,class_price:this.price,remark:this.remark};Object(o["a"])(i).then((function(e){console.log(e),0==e.error_code&&Object(n["Message"])({message:"添加成功",type:"success",duration:5e3}),t.$emit("close",!0)})).catch((function(t){reject(t)}))}}},c=r,u=(a("7e25"),a("2877")),d=Object(u["a"])(c,i,l,!1,null,"4f7625cc",null);e["default"]=d.exports}}]);