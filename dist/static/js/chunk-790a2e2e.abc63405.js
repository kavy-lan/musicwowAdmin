(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-790a2e2e"],{"0512":function(e,t,a){"use strict";var i=a("503e"),n=a.n(i);n.a},3123:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("b775");function n(){return Object(i["a"])({url:"/qiniu/upload/token",method:"get"})}},"503e":function(e,t,a){},5185:function(e,t,a){},"831b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"授权用户",visible:e.dialogVisible,width:"100%","custom-class":"customWidth",center:"",top:"0","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"left"},[a("div",[a("label",[e._v("用户名:")]),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名，字数最多20字内(必选)",maxlength:"20"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("div",[a("label",[e._v("用户手机:")]),e._v(" "),a("el-select",{staticClass:"el-selete",attrs:{placeholder:"请选择区号"},model:{value:e.areaValue,callback:function(t){e.areaValue=t},expression:"areaValue"}},e._l(e.areaCode,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入手机号码(必选)",maxlength:"11"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),e._v(" "),a("div",[a("label",{staticClass:"uploadLabel"},[e._v("用户头像:")]),e._v(" "),a("single-image",{attrs:{msg:"图片小于1M，格式为jpg、png(必选)",type:".jpg,.png",size:"1048576",limit:1,filelist:e.head_list},on:{files:e.file}})],1),e._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("备注信息:")]),e._v(" "),a("el-input",{staticClass:"input textarea",attrs:{placeholder:"请输入授权教材备注信息，字数最多300字内",type:"textarea",maxlength:"300"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)]),e._v(" "),a("div",{staticStyle:{display:"none"}},[e._v(e._s(e.sum))]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"success",disabled:e.Exist},on:{click:e.addA}},[e._v("确 定")])],1)])},n=[],l=(a("c5f6"),a("70a2")),r=a("83a2"),s=a("5c96"),o={components:{SingleImage:l["a"]},props:["dialogVisible","id"],data:function(){return{dialogVisibleii:this.dialogVisible,username:"",mobile:"",remark:"",img:"",ifExist:0,Exist:!0,areaCode:[{value:"86",label:"大陆 + 86"},{value:"852",label:"香港 + 852"},{value:"853",label:"澳门 + 853"},{value:"886",label:"台湾 + 886"}],areaValue:"",head_list:[]}},computed:{sum:function(){this.ifExist=Number(Boolean(this.username))+Number(Boolean(this.mobile))+Number(Boolean(this.areaValue))+Number(Boolean(this.img))}},watch:{ifExist:function(e,t){4==Number(e)?this.Exist=!1:this.Exist=!0}},mounted:function(){this.getDetail(this.id)},methods:{close:function(){this.$emit("close",!1)},file:function(e){e.length>0?this.img=e[0].url:this.img=""},handleClose:function(){this.$emit("close",!1)},addA:function(){var e=this;return new Promise((function(t,a){Object(r["e"])(e.id,e.username,e.areaValue,e.mobile,e.remark,e.img).then((function(t){console.log(t),0==t.error_code&&Object(s["Message"])({message:"编辑成功",type:"success",duration:5e3}),e.$emit("close",!0)})).catch((function(e){a(e)}))}))},getDetail:function(e){var t=this;return new Promise((function(a,i){Object(r["f"])(e).then((function(e){if(0==e.error_code){var a=e.data;t.remark=a.remark,t.username=a.username,t.mobile=a.mobile,t.head_list=[{url:a.head_image}],t.img=a.head_image,t.areaValue=a.area_code}})).catch((function(e){i(e)}))}))}}},u=o,c=(a("cd67"),a("0512"),a("2877")),d=Object(c["a"])(u,i,n,!1,null,"c078709e",null);t["default"]=d.exports},"83a2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return u}));var i=a("b775");function n(e,t,a){return Object(i["a"])({url:"user",method:"get",params:{page:e,limit:"10",filters:t,ops:a}})}function l(e,t,a){return Object(i["a"])({url:"user",method:"get",params:{page:e,limit:"100000",filters:t,ops:a}})}function r(e){return Object(i["a"])({url:"user",method:"delete",params:{ids:e}})}function s(e,t,a,n,l){return Object(i["a"])({url:"user",method:"post",data:{username:e,area_code:t,mobile:a,remark:n,head_image:l}})}function o(e){return Object(i["a"])({url:"user/".concat(e),method:"get"})}function u(e,t,a,n,l,r){return Object(i["a"])({url:"user/".concat(e),method:"put",params:{username:t,area_code:a,mobile:n,remark:l,head_image:r}})}},"91b6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("b775");function n(){return Object(i["a"])({url:"public/upload_config",method:"get"})}},cd67:function(e,t,a){"use strict";var i=a("5185"),n=a.n(i);n.a}}]);