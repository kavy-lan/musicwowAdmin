(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74d0d32e","chunk-58ccc486","chunk-7091d398"],{3123:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("b775");function l(){return Object(i["a"])({url:"/qiniu/upload/token",method:"get"})}},"55d6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e.searchShow?a("div",{staticClass:"search"},[e._l(e.seleteSearch,(function(t,i){return a("div",{key:i},[a("label",[e._v(e._s(t.label))]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},on:{change:e.seleteChange,clear:function(t){return e.clearSelete(i)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.array,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)})),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.submitSearch}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.resetSearch}},[e._v("重置")])],2):e._e(),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-upload2",size:"medium"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加")]),e._v(" "),a("el-button",{staticClass:"deletebutton",attrs:{type:"danger",icon:"el-icon-delete",size:"medium",disabled:e.deleteShow},on:{click:e.someDelete}},[e._v("删除")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"medium",type:"info"},on:{click:function(t){e.searchShow=!e.searchShow}}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.rolesList,border:"","header-cell-style":{background:"#fff",color:"#B3B3B3",fontSize:"14px",fontFamily:"PingFangSC-Medium,PingFang SC",fontWeight:"500"},"cell-style":{color:"#585B63",fontSize:"14px"},"row-class-name":e.tableRowClassName},on:{select:e.handleSelectionChange,"select-all":e.handleSelectAll}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center",prop:"checkbox"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"教材名称",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"图标",prop:"icon"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.row.icon,width:"40",height:"40"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"单价课价格",prop:"class_price"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"目录数",prop:"directory_count"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"课时数",prop:"class_count"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#07D1AA","inactive-color":"#D9D9D9"},on:{change:function(a){return e.handleChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"caozuoButton",attrs:{plain:""},on:{click:function(a){return e.goClassList(t.row)}}},[a("span",{staticClass:"caozuo"},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"check"}}),e._v("教材\n          ")],1)]),e._v(" "),a("el-button",{staticClass:"caozuoButton",attrs:{plain:""},on:{click:function(a){e.dialogVisibleEdit=!0,e.editId=t.row.id}}},[a("span",{staticClass:"caozuo",attrs:{plain:""}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"tableEdit"}}),e._v("编辑\n          ")],1)]),e._v(" "),a("el-button",{staticClass:"caozuoButton",attrs:{plain:""},on:{click:function(a){return e.deleteA(t.row)}}},[a("span",{staticClass:"caozuo"},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"delete"}}),e._v("删除\n          ")],1)])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"clearfix",attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.nextPage}}),e._v(" "),a("add-dia",{attrs:{"dialog-visible":e.dialogVisible},on:{close:e.closr}}),e._v(" "),e.dialogVisibleEdit?a("edit-dia",{attrs:{id:e.editId,"dialog-visible":e.dialogVisibleEdit},on:{close:e.closr}}):e._e()],1)},l=[],s=(a("7f7f"),a("ed5d")),o=a("7017"),n=a("b3d8"),c=a("5c96"),r={components:{AddDia:s["default"],EditDia:o["default"]},data:function(){return{rolesList:[],dialogVisible:!1,dialogVisibleEdit:!1,dialogVisibleReset:!1,length:1,imgUrl:[],filters:{},ops:{},total:0,editId:"",searchShow:!1,somedelete:"",seleteSearch:[{label:"教材名称:",value:"",name:"title",ops:"=",array:[]},{label:"单价课价格:",value:"",name:"class_price",ops:"=",array:[]},{label:"目录数:",value:"",name:"directory_count",ops:"=",array:[]},{label:"课时数:",value:"",name:"class_count",ops:"=",array:[]}],test:[],deleteShow:!0,searchModel:!1}},computed:{routesData:function(){return this.routes}},created:function(){},mounted:function(){this.tableInit(1)},methods:{tableInit:function(e,t,a){var i=this;return new Promise((function(l,s){Object(n["e"])(e,t,a).then((function(e){var t=e.data;i.rolesList=t.list,i.length=t.list.length,i.total=t.total,i.seleteSearch[0].array=[],i.seleteSearch[1].array=[],i.seleteSearch[2].array=[],i.seleteSearch[3].array=[],i.rolesList.map((function(e){1==e.status?e.status=!0:e.status=!1,1==e.is_class_price?e.is_class_price=!0:e.is_class_prices=!1,i.seleteSearch[0].array.push(String(e.title)),i.seleteSearch[1].array.push(String(e.class_price)),i.seleteSearch[2].array.push(String(e.directory_count)),i.seleteSearch[3].array.push(String(e.class_count))})),i.searchNum--})).catch((function(e){s(e)}))}))},deleteA:function(e){var t=this;this.$confirm("确定要删除吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){return new Promise((function(a,i){Object(n["b"])(e.id).then((function(e){console.log(e),0==e.error_code&&(Object(c["Message"])({message:"删除成功",type:"success",duration:5e3}),t.deleteShow=!0,t.tableInit(1))})).catch((function(e){i(e)}))}))})).catch((function(e){}))},someDelete:function(){for(var e={id:""},t={id:""},a=0;a<this.somedelete.length;a++)e.id+="".concat(this.somedelete[a].id,",");t.id=e.id.substring(0,e.id.length-1),this.deleteA(t)},goClassList:function(e){this.$router.push({path:"/CoursewareM/classManagement/list",query:{id:e.id}})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2===1?"warning-row":"success-row"},handleChange:function(e){console.log(e)},handleSelectionChange:function(e){e.length>0?(this.deleteShow=!1,this.somedelete=e):this.deleteShow=!0},handleSelectAll:function(e){e.length>0?(this.deleteShow=!1,this.somedelete=e):this.deleteShow=!0},getValue:function(){console.log(this.test)},nextPage:function(e){this.searchModel?this.tableInit(e,this.filters,this.ops):this.tableInit(e)},closr:function(e){0==e?(this.dialogVisible=!1,this.dialogVisibleEdit=!1,this.dialogVisibleReset=!1):(this.dialogVisible=!1,this.dialogVisibleEdit=!1,this.dialogVisibleReset=!1,this.tableInit(1))},seleteChange:function(e){for(var t=0;t<this.seleteSearch.length;t++)void 0!=this.seleteSearch[t].value&&this.seleteSearch[t].value.trim()&&(this.filters[this.seleteSearch[t].name]="".concat(this.seleteSearch[t].value),this.ops[this.seleteSearch[t].name]="".concat(this.seleteSearch[t].ops))},clearSelete:function(e){delete this.filters[this.seleteSearch[e].name],delete this.ops[this.seleteSearch[e].name]},submitSearch:function(){console.log(this.seleteSearch),this.tableInit(1,this.filters,this.ops),this.searchModel=!0},resetSearch:function(){this.tableInit(1),this.searchModel=!1}}},u=r,d=(a("71ae"),a("2877")),g=Object(d["a"])(u,i,l,!1,null,"229e0dcd",null);t["default"]=g.exports},"6ed4":function(e,t,a){"use strict";var i=a("d0ea"),l=a.n(i);l.a},7017:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新建教材",visible:e.dialogVisible,width:"100%","custom-class":"customWidth",center:"",top:"0","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"left"},[a("div",[a("label",[e._v("教材名称:")]),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入教材名称，字数最多20字内",maxlength:"19"},model:{value:e.detailMsg.title,callback:function(t){e.$set(e.detailMsg,"title",t)},expression:"detailMsg.title"}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材封面:",size:"2097152",type:".jpg,.png",limit:1,filelist:e.materialCoverI},on:{files:e.materialCover}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材课时封面:",type:".jpg,.png",size:"2097152",limit:1,filelist:e.materialClassCoverI},on:{files:e.materialClassCover}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片尺寸120x120并小于1M，格式为png",label:"乐器图标:",type:".png",limit:1,size:"1048576",filelist:e.iconI},on:{files:e.icon}})],1),e._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("教材目标:")]),e._v(" "),a("el-input",{staticClass:"input Target",attrs:{placeholder:"请输入教材目标，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:e.detailMsg.goal,callback:function(t){e.$set(e.detailMsg,"goal",t)},expression:"detailMsg.goal"}})],1),e._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("备注说明:")]),e._v(" "),a("el-input",{staticClass:"input Target",attrs:{placeholder:"请输入教材目标，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:e.detailMsg.remark,callback:function(t){e.$set(e.detailMsg,"remark",t)},expression:"detailMsg.remark"}})],1)]),e._v(" "),a("div",{staticClass:"right"},[a("div",[a("single-image",{attrs:{msg:"视频格式为mp4",label:"教材介绍视频:",type:".mp4",limit:1,filelist:e.materialVideoV},on:{files:e.materialVideo}})],1),e._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("教材文字详情:")]),e._v(" "),a("el-input",{staticClass:"input textarea",attrs:{placeholder:"请输入教材文字详情，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:e.detailMsg.details,callback:function(t){e.$set(e.detailMsg,"details",t)},expression:"detailMsg.details"}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材详情图:",type:".jpg,.png",size:"2097152",filelist:e.materialDetailedI},on:{files:e.materialDetailed}})],1),e._v(" "),e.detailMsg.directory_list?a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("教材目录：")]),e._v(" "),e.detailMsg.directory_list.length>0?a("div",{staticClass:"allCatalogue"},[a("span",[e._v("共")]),e._v(" "),a("div",{staticStyle:{margin:"0 5px 0 5px","text-align":"center"}},[e._v(e._s(e.detailMsg.directory_list.length))]),e._v(" "),a("span",[e._v("个目录")])]):e._e(),e._v(" "),e.detailMsg.directory_list.length>0?a("div",{staticClass:"materialCatalogue"},e._l(e.detailMsg.directory_list,(function(t,i){return a("div",{key:i,staticClass:"oneCatalogue"},[a("svg-icon",{staticClass:"laji",attrs:{"class-name":"search-icon","icon-class":"laji"},on:{click:function(t){return e.deleCatalogue(i)}}}),e._v(" "),a("div",{staticClass:"No",staticStyle:{"text-align":"center"}},[e._v(e._s(i+1))]),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入目录名称，字数最多20字内",maxlength:"20"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item.title"}})],1)})),0):e._e(),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.newCatalogue}},[e._v("新增")])],1):e._e(),e._v(" "),a("div",{staticStyle:{width:"630px"}},[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("单价课价格：")]),e._v(" "),a("el-radio-group",{attrs:{"text-color":"#585B63"},on:{change:e.radioChange},model:{value:e.detailMsg.is_class_price,callback:function(t){e.$set(e.detailMsg,"is_class_price",t)},expression:"detailMsg.is_class_price"}},[a("el-radio",{staticStyle:{display:"block"},attrs:{label:0}},[e._v("关闭")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("开启")])],1),e._v(" "),1==e.detailMsg.is_class_price?a("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[a("el-input",{staticClass:"input",staticStyle:{width:"106px"},attrs:{placeholder:"请输入价格",maxlength:"20"},model:{value:e.detailMsg.class_price,callback:function(t){e.$set(e.detailMsg,"class_price",t)},expression:"detailMsg.class_price"}}),e._v(" "),a("span",[e._v("元/30分钟")])],1):e._e()],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.addA}},[e._v("确 定")])],1)])},l=[],s=a("b3d8"),o=a("70a2"),n=a("5c96"),c={components:{SingleImage:o["a"]},props:["dialogVisible","id"],data:function(){return{dialogVisibleii:this.dialogVisible,radio:1,materialName:"",materialTarget:"",materialDetail:"",price:0,remark:"",Catalogue:[],CatalogueNum:0,materialCoverI:[],materialClassCoverI:[],iconI:[],materialVideoV:[],materialDetailedI:[],detailMsg:{}}},watch:{id:function(e,t){}},mounted:function(){this.getDetail(this.id)},methods:{close:function(){this.$emit("close",!1)},file:function(e){console.log(e)},handleClose:function(){this.$emit("close",!1)},materialCover:function(e){e.length>0&&(this.detailMsg.cover=e[0].url)},materialClassCover:function(e){e.length>0&&(this.detailMsg.class_cover=e[0].url)},icon:function(e){e.length>0&&(this.detailMsg.icon=e[0].url)},materialVideo:function(e){e.length>0&&(this.detailMsg.video=e[0].url)},materialDetailed:function(e){e.length>0&&(this.detailMsg.details_image=e[0].url)},deleCatalogue:function(e){this.detailMsg.directory_list.splice(e,1)},radioChange:function(e){1==e?this.detailMsg.is_class_price=1:(this.detailMsg.is_class_price=0,this.detailMsg.class_price=0),console.log(e)},addA:function(){var e=this;return new Promise((function(t,a){Object(s["c"])(e.id,e.detailMsg).then((function(t){0==t.error_code&&(Object(n["Message"])({message:"编辑成功",type:"success",duration:5e3}),e.$emit("close",!0))})).catch((function(e){a(e)}))}))},getDetail:function(e){var t=this;return new Promise((function(a,i){Object(s["d"])(e).then((function(e){console.log(e),0==e.error_code&&(t.detailMsg=e.data,t.materialCoverI=[{url:t.detailMsg.cover}],t.materialClassCoverI=[{url:t.detailMsg.class_cover}],t.iconI=[{url:t.detailMsg.icon}],t.materialVideoV=[{url:t.detailMsg.video}],t.materialDetailedI=[{url:t.detailMsg.details_image}],t.CatalogueNum=t.detailMsg.directory_list[t.detailMsg.directory_list.length-1].directory_no)})).catch((function(e){i(e)}))}))},newCatalogue:function(){this.CatalogueNum=this.CatalogueNum+1,this.CatalogueNum<=9?this.detailMsg.directory_list.push({directory_no:parseInt("0".concat(this.CatalogueNum)),title:""}):this.detailMsg.directory_list.push({directory_no:parseInt("".concat(this.CatalogueNum)),title:""}),console.log(this.Catalogue)}}},r=c,u=(a("6ed4"),a("2877")),d=Object(u["a"])(r,i,l,!1,null,"e485a03a",null);t["default"]=d.exports},"71ae":function(e,t,a){"use strict";var i=a("f14e"),l=a.n(i);l.a},"7e25":function(e,t,a){"use strict";var i=a("9255"),l=a.n(i);l.a},"91b6":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("b775");function l(){return Object(i["a"])({url:"public/upload_config",method:"get"})}},9255:function(e,t,a){},b3d8:function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return c}));var i=a("b775");function l(e,t,a){return Object(i["a"])({url:"cs/book",method:"get",params:{page:e,limit:"10",filters:t,ops:a}})}function s(e){return Object(i["a"])({url:"cs/book",method:"delete",params:{ids:e}})}function o(e){return Object(i["a"])({url:"cs/book",method:"post",data:e})}function n(e){return Object(i["a"])({url:"cs/book/".concat(e),method:"get"})}function c(e,t){return Object(i["a"])({url:"cs/book/".concat(e),method:"PUT",data:t})}},d0ea:function(e,t,a){},ed5d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新建教材",visible:e.dialogVisible,width:"100%","custom-class":"customWidth",center:"",top:"0","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"left"},[a("div",[a("label",[e._v("教材名称:")]),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入教材名称，字数最多20字内",maxlength:"19"},model:{value:e.materialName,callback:function(t){e.materialName=t},expression:"materialName"}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材封面:",size:"2097152",type:".jpg,.png",limit:1},on:{files:e.materialCover}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材课时封面:",type:".jpg,.png",size:"2097152",limit:1},on:{files:e.materialClassCover}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片尺寸120x120并小于1M，格式为png",label:"乐器图标:",type:".png",limit:1,size:"1048576"},on:{files:e.icon}})],1),e._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("教材目标:")]),e._v(" "),a("el-input",{staticClass:"input Target",attrs:{placeholder:"请输入教材目标，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:e.materialTarget,callback:function(t){e.materialTarget=t},expression:"materialTarget"}})],1)]),e._v(" "),a("div",{staticClass:"right"},[a("div",[a("single-image",{attrs:{msg:"视频格式为mp4",label:"教材介绍视频:",type:".mp4",limit:1},on:{files:e.materialVideo}})],1),e._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("教材文字详情:")]),e._v(" "),a("el-input",{staticClass:"input textarea",attrs:{placeholder:"请输入教材文字详情，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:e.materialDetail,callback:function(t){e.materialDetail=t},expression:"materialDetail"}})],1),e._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材详情图:",type:".jpg,.png",size:"2097152"},on:{files:e.materialDetailed}})],1),e._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("教材目录：")]),e._v(" "),e.Catalogue.length>0?a("div",{staticClass:"allCatalogue"},[a("span",[e._v("共")]),e._v(" "),a("div",{staticStyle:{margin:"0 5px 0 5px","text-align":"center"}},[e._v(e._s(e.Catalogue.length))]),e._v(" "),a("span",[e._v("个目录")])]):e._e(),e._v(" "),e.Catalogue.length>0?a("div",{staticClass:"materialCatalogue"},e._l(e.Catalogue,(function(t,i){return a("div",{key:i,staticClass:"oneCatalogue"},[a("svg-icon",{staticClass:"laji",attrs:{"class-name":"search-icon","icon-class":"laji"},on:{click:function(t){return e.deleCatalogue(i)}}}),e._v(" "),a("div",{staticClass:"No",staticStyle:{"text-align":"center"}},[e._v(e._s(i+1))]),e._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入目录名称，字数最多20字内",maxlength:"20"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"item.title"}})],1)})),0):e._e(),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.newCatalogue}},[e._v("新增")])],1),e._v(" "),a("div",{staticStyle:{width:"630px"}},[a("label",{staticStyle:{"vertical-align":"top"}},[e._v("单价课价格：")]),e._v(" "),a("el-radio-group",{attrs:{"text-color":"#585B63"},on:{change:e.radioChange},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{staticStyle:{display:"block"},attrs:{label:0}},[e._v("关闭")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("开启")])],1),e._v(" "),e.priceShow?a("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[a("el-input",{staticClass:"input",staticStyle:{width:"106px"},attrs:{placeholder:"请输入价格",maxlength:"20"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),e._v(" "),a("span",[e._v("元/30分钟")])],1):e._e()],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.addA}},[e._v("确 定")])],1)])},l=[],s=a("b3d8"),o=a("70a2"),n=a("5c96"),c={components:{SingleImage:o["a"]},props:["dialogVisible"],data:function(){return{dialogVisibleii:this.dialogVisible,radio:0,materialName:"",materialTarget:"",materialDetail:"",price:0,remark:"",Catalogue:[],CatalogueNum:0,openPrice:0,priceShow:!1,materialCoverI:"",materialClassCoverI:"",iconI:"",materialVideoV:"",materialDetailedI:""}},methods:{close:function(){this.$emit("close",!1)},file:function(e){console.log(e)},handleClose:function(){this.$emit("close",!1)},materialCover:function(e){this.materialCoverI=e[0].url},materialClassCover:function(e){this.materialClassCoverI=e[0].url},icon:function(e){this.iconI=e[0].url},materialVideo:function(e){this.materialVideoV=e[0].url},materialDetailed:function(e){this.materialDetailedI=e[0].url},newCatalogue:function(){this.CatalogueNum=this.CatalogueNum+1,this.CatalogueNum<=9?this.Catalogue.push({directory_no:parseInt("0".concat(this.CatalogueNum)),title:""}):this.Catalogue.push({directory_no:parseInt("".concat(this.CatalogueNum)),title:""})},deleCatalogue:function(e){this.Catalogue.splice(e,1),console.log(this.Catalogue)},radioChange:function(e){1==e?(this.priceShow=!0,this.openPrice=1):(this.priceShow=!1,this.openPrice=0,this.price=0),console.log(e)},addA:function(){for(var e=this,t=[],a=0;a<this.Catalogue.length;a++)this.Catalogue[a].title.trim()&&t.push(this.Catalogue[a]);var i={title:this.materialName,cover:this.materialCoverI,class_cover:this.materialClassCoverI,icon:this.iconI,goal:this.materialTarget,video:this.materialVideoV,details:this.materialDetail,details_image:this.materialDetailedI,is_class_price:this.openPrice,directory_list:t,class_price:this.price,remark:this.remark};Object(s["a"])(i).then((function(t){console.log(t),0==t.error_code&&Object(n["Message"])({message:"添加成功",type:"success",duration:5e3}),e.$emit("close",!0)})).catch((function(e){reject(e)}))}}},r=c,u=(a("7e25"),a("2877")),d=Object(u["a"])(r,i,l,!1,null,"4f7625cc",null);t["default"]=d.exports},f14e:function(e,t,a){}}]);