(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bbe9a08","chunk-58ccc486","chunk-7091d398"],{3123:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var i=a("b775");function l(){return Object(i["a"])({url:"/qiniu/upload/token",method:"get"})}},"55d6":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[t.searchShow?a("div",{staticClass:"search"},[t._l(t.seleteSearch,(function(e,i){return a("div",{key:i},[a("label",[t._v(t._s(e.label))]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},on:{change:t.seleteChange,clear:function(e){return t.clearSelete(i)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},t._l(e.array,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)})),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.submitSearch}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.resetSearch}},[t._v("重置")])],2):t._e(),t._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-upload2",size:"medium"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加")]),t._v(" "),a("el-button",{staticClass:"deletebutton",attrs:{type:"danger",icon:"el-icon-delete",size:"medium",disabled:t.deleteShow},on:{click:t.someDelete}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.goPackList}},[t._v("打包任务列表")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{size:"medium",type:"info"},on:{click:function(e){t.searchShow=!t.searchShow}}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.rolesList,border:"","header-cell-style":{background:"#fff",color:"#B3B3B3",fontSize:"14px",fontFamily:"PingFangSC-Medium,PingFang SC",fontWeight:"500"},"cell-style":{color:"#585B63",fontSize:"14px"},"row-class-name":t.tableRowClassName},on:{select:t.handleSelectionChange,"select-all":t.handleSelectAll}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center",prop:"checkbox"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"教材名称",prop:"title"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"图标",prop:"icon"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.row.icon,width:"40",height:"40"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"单价课价格",prop:"class_price"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"目录数",prop:"directory_count"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"课时数",prop:"class_count"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#07D1AA","inactive-color":"#D9D9D9"},on:{change:function(a){return t.handleChange(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"caozuoButton",attrs:{plain:""},on:{click:function(a){return t.goClassList(e.row)}}},[a("span",{staticClass:"caozuo"},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"check"}}),t._v("课时\n          ")],1)]),t._v(" "),a("el-button",{staticClass:"caozuoButton",attrs:{plain:""},on:{click:function(a){return t.packCourseware(e.row)}}},[a("span",{staticClass:"caozuo"},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"check"}}),t._v("打包课件\n          ")],1)]),t._v(" "),a("el-button",{staticClass:"caozuoButton",attrs:{plain:""},on:{click:function(a){t.dialogVisibleEdit=!0,t.editId=e.row.id}}},[a("span",{staticClass:"caozuo",attrs:{plain:""}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"tableEdit"}}),t._v("编辑\n          ")],1)]),t._v(" "),a("el-button",{staticClass:"caozuoButton",attrs:{plain:""},on:{click:function(a){return t.deleteA(e.row)}}},[a("span",{staticClass:"caozuo"},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"delete"}}),t._v("删除\n          ")],1)])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"clearfix",attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.nextPage}}),t._v(" "),a("add-dia",{attrs:{"dialog-visible":t.dialogVisible},on:{close:t.closr}}),t._v(" "),t.dialogVisibleEdit?a("edit-dia",{attrs:{id:t.editId,"dialog-visible":t.dialogVisibleEdit},on:{close:t.closr}}):t._e()],1)},l=[],s=(a("7f7f"),a("ed5d")),o=a("7017"),n=a("b3d8"),c=a("5c96"),r={components:{AddDia:s["default"],EditDia:o["default"]},data:function(){return{rolesList:[],dialogVisible:!1,dialogVisibleEdit:!1,dialogVisibleReset:!1,length:1,imgUrl:[],filters:{},ops:{},total:0,editId:"",searchShow:!1,somedelete:"",seleteSearch:[{label:"教材名称:",value:"",name:"title",ops:"=",array:[]},{label:"单价课价格:",value:"",name:"class_price",ops:"=",array:[]},{label:"目录数:",value:"",name:"directory_count",ops:"=",array:[]},{label:"课时数:",value:"",name:"class_count",ops:"=",array:[]}],test:[],deleteShow:!0,searchModel:!1}},computed:{routesData:function(){return this.routes}},created:function(){},mounted:function(){this.tableInit(1)},methods:{tableInit:function(t,e,a){var i=this;return new Promise((function(l,s){Object(n["f"])(t,e,a).then((function(t){var e=t.data;i.rolesList=e.list,i.length=e.list.length,i.total=e.total,i.seleteSearch[0].array=[],i.seleteSearch[1].array=[],i.seleteSearch[2].array=[],i.seleteSearch[3].array=[],i.rolesList.map((function(t){1==t.status?t.status=!0:t.status=!1,1==t.is_class_price?t.is_class_price=!0:t.is_class_prices=!1,i.seleteSearch[0].array.push(String(t.title)),i.seleteSearch[1].array.push(String(t.class_price)),i.seleteSearch[2].array.push(String(t.directory_count)),i.seleteSearch[3].array.push(String(t.class_count))})),i.searchNum--})).catch((function(t){s(t)}))}))},deleteA:function(t){var e=this;this.$confirm("确定要删除吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){return new Promise((function(a,i){Object(n["b"])(t.id).then((function(t){console.log(t),0==t.error_code&&(Object(c["Message"])({message:"删除成功",type:"success",duration:5e3}),e.deleteShow=!0,e.tableInit(1))})).catch((function(t){i(t)}))}))})).catch((function(t){}))},someDelete:function(){for(var t={id:""},e={id:""},a=0;a<this.somedelete.length;a++)t.id+="".concat(this.somedelete[a].id,",");e.id=t.id.substring(0,t.id.length-1),this.deleteA(e)},goClassList:function(t){this.$router.push({path:"/CoursewareM/classManagement/list",query:{id:t.id}})},packCourseware:function(t){return new Promise((function(e,a){Object(n["d"])(t.id).then((function(t){0==t.error_code&&Object(c["Message"])({message:"".concat(t.message),type:"success",duration:5e3})})).catch((function(t){a(t)}))}))},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"warning-row":"success-row"},handleChange:function(t){console.log(t)},handleSelectionChange:function(t){t.length>0?(this.deleteShow=!1,this.somedelete=t):this.deleteShow=!0},handleSelectAll:function(t){t.length>0?(this.deleteShow=!1,this.somedelete=t):this.deleteShow=!0},getValue:function(){console.log(this.test)},nextPage:function(t){this.searchModel?this.tableInit(t,this.filters,this.ops):this.tableInit(t)},closr:function(t){0==t?(this.dialogVisible=!1,this.dialogVisibleEdit=!1,this.dialogVisibleReset=!1):(this.dialogVisible=!1,this.dialogVisibleEdit=!1,this.dialogVisibleReset=!1,this.tableInit(1))},seleteChange:function(t){for(var e=0;e<this.seleteSearch.length;e++)void 0!=this.seleteSearch[e].value&&this.seleteSearch[e].value.trim()&&(this.filters[this.seleteSearch[e].name]="".concat(this.seleteSearch[e].value),this.ops[this.seleteSearch[e].name]="".concat(this.seleteSearch[e].ops))},clearSelete:function(t){delete this.filters[this.seleteSearch[t].name],delete this.ops[this.seleteSearch[t].name]},submitSearch:function(){console.log(this.seleteSearch),this.tableInit(1,this.filters,this.ops),this.searchModel=!0},resetSearch:function(){this.tableInit(1),this.searchModel=!1},goPackList:function(){this.$router.push({path:"/csPack/list"})}}},u=r,d=(a("83fa"),a("2877")),g=Object(d["a"])(u,i,l,!1,null,"a2c83fba",null);e["default"]=g.exports},"5ffc":function(t,e,a){},"6ed4":function(t,e,a){"use strict";var i=a("d0ea"),l=a.n(i);l.a},7017:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新建教材",visible:t.dialogVisible,width:"100%","custom-class":"customWidth",center:"",top:"0","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"left"},[a("div",[a("label",[t._v("教材名称:")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入教材名称，字数最多20字内",maxlength:"19"},model:{value:t.detailMsg.title,callback:function(e){t.$set(t.detailMsg,"title",e)},expression:"detailMsg.title"}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材封面:",size:"2097152",type:".jpg,.png",limit:1,filelist:t.materialCoverI},on:{files:t.materialCover}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材课时封面:",type:".jpg,.png",size:"2097152",limit:1,filelist:t.materialClassCoverI},on:{files:t.materialClassCover}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片尺寸120x120并小于1M，格式为png",label:"乐器图标:",type:".png",limit:1,size:"1048576",filelist:t.iconI},on:{files:t.icon}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材目标:")]),t._v(" "),a("el-input",{staticClass:"input Target",attrs:{placeholder:"请输入教材目标，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:t.detailMsg.goal,callback:function(e){t.$set(t.detailMsg,"goal",e)},expression:"detailMsg.goal"}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("备注说明:")]),t._v(" "),a("el-input",{staticClass:"input Target",attrs:{placeholder:"请输入教材目标，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:t.detailMsg.remark,callback:function(e){t.$set(t.detailMsg,"remark",e)},expression:"detailMsg.remark"}})],1)]),t._v(" "),a("div",{staticClass:"right"},[a("div",[a("single-image",{attrs:{msg:"视频格式为mp4",label:"教材介绍视频:",type:".mp4",limit:1,filelist:t.materialVideoV},on:{files:t.materialVideo}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材文字详情:")]),t._v(" "),a("el-input",{staticClass:"input textarea",attrs:{placeholder:"请输入教材文字详情，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:t.detailMsg.details,callback:function(e){t.$set(t.detailMsg,"details",e)},expression:"detailMsg.details"}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材详情图:",type:".jpg,.png",size:"2097152",filelist:t.materialDetailedI},on:{files:t.materialDetailed}})],1),t._v(" "),t.detailMsg.directory_list?a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材目录：")]),t._v(" "),t.detailMsg.directory_list.length>0?a("div",{staticClass:"allCatalogue"},[a("span",[t._v("共")]),t._v(" "),a("div",{staticStyle:{margin:"0 5px 0 5px","text-align":"center"}},[t._v(t._s(t.detailMsg.directory_list.length))]),t._v(" "),a("span",[t._v("个目录")])]):t._e(),t._v(" "),t.detailMsg.directory_list.length>0?a("div",{staticClass:"materialCatalogue"},t._l(t.detailMsg.directory_list,(function(e,i){return a("div",{key:i,staticClass:"oneCatalogue"},[a("svg-icon",{staticClass:"laji",attrs:{"class-name":"search-icon","icon-class":"laji"},on:{click:function(e){return t.deleCatalogue(i)}}}),t._v(" "),a("div",{staticClass:"No",staticStyle:{"text-align":"center"}},[t._v(t._s(i+1))]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入目录名称，字数最多20字内",maxlength:"20"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1)})),0):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.newCatalogue}},[t._v("新增")])],1):t._e(),t._v(" "),a("div",{staticStyle:{width:"630px"}},[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("单价课价格：")]),t._v(" "),a("el-radio-group",{attrs:{"text-color":"#585B63"},on:{change:t.radioChange},model:{value:t.detailMsg.is_class_price,callback:function(e){t.$set(t.detailMsg,"is_class_price",e)},expression:"detailMsg.is_class_price"}},[a("el-radio",{staticStyle:{display:"block"},attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1),t._v(" "),1==t.detailMsg.is_class_price?a("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[a("el-input",{staticClass:"input",staticStyle:{width:"106px"},attrs:{placeholder:"请输入价格",maxlength:"20"},model:{value:t.detailMsg.class_price,callback:function(e){t.$set(t.detailMsg,"class_price",e)},expression:"detailMsg.class_price"}}),t._v(" "),a("span",[t._v("元/30分钟")])],1):t._e()],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.addA}},[t._v("确 定")])],1)])},l=[],s=a("b3d8"),o=a("70a2"),n=a("5c96"),c={components:{SingleImage:o["a"]},props:["dialogVisible","id"],data:function(){return{dialogVisibleii:this.dialogVisible,radio:1,materialName:"",materialTarget:"",materialDetail:"",price:0,remark:"",Catalogue:[],CatalogueNum:0,materialCoverI:[],materialClassCoverI:[],iconI:[],materialVideoV:[],materialDetailedI:[],detailMsg:{}}},watch:{id:function(t,e){}},mounted:function(){this.getDetail(this.id)},methods:{close:function(){this.$emit("close",!1)},file:function(t){console.log(t)},handleClose:function(){this.$emit("close",!1)},materialCover:function(t){t.length>0&&(this.detailMsg.cover=t[0].url)},materialClassCover:function(t){t.length>0&&(this.detailMsg.class_cover=t[0].url)},icon:function(t){t.length>0&&(this.detailMsg.icon=t[0].url)},materialVideo:function(t){t.length>0&&(this.detailMsg.video=t[0].url)},materialDetailed:function(t){t.length>0&&(this.detailMsg.details_image=t[0].url)},deleCatalogue:function(t){this.detailMsg.directory_list.splice(t,1)},radioChange:function(t){1==t?this.detailMsg.is_class_price=1:(this.detailMsg.is_class_price=0,this.detailMsg.class_price=0),console.log(t)},addA:function(){var t=this;return new Promise((function(e,a){Object(s["c"])(t.id,t.detailMsg).then((function(e){0==e.error_code&&(Object(n["Message"])({message:"编辑成功",type:"success",duration:5e3}),t.$emit("close",!0))})).catch((function(t){a(t)}))}))},getDetail:function(t){var e=this;return new Promise((function(a,i){Object(s["e"])(t).then((function(t){console.log(t),0==t.error_code&&(e.detailMsg=t.data,e.materialCoverI=[{url:e.detailMsg.cover}],e.materialClassCoverI=[{url:e.detailMsg.class_cover}],e.iconI=[{url:e.detailMsg.icon}],e.materialVideoV=[{url:e.detailMsg.video}],e.materialDetailedI=[{url:e.detailMsg.details_image}],e.CatalogueNum=e.detailMsg.directory_list[e.detailMsg.directory_list.length-1].directory_no)})).catch((function(t){i(t)}))}))},newCatalogue:function(){this.CatalogueNum=this.CatalogueNum+1,this.CatalogueNum<=9?this.detailMsg.directory_list.push({directory_no:parseInt("0".concat(this.CatalogueNum)),title:""}):this.detailMsg.directory_list.push({directory_no:parseInt("".concat(this.CatalogueNum)),title:""}),console.log(this.Catalogue)}}},r=c,u=(a("6ed4"),a("2877")),d=Object(u["a"])(r,i,l,!1,null,"e485a03a",null);e["default"]=d.exports},"7e25":function(t,e,a){"use strict";var i=a("9255"),l=a.n(i);l.a},"83fa":function(t,e,a){"use strict";var i=a("5ffc"),l=a.n(i);l.a},"91b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var i=a("b775");function l(){return Object(i["a"])({url:"public/upload_config",method:"get"})}},9255:function(t,e,a){},b3d8:function(t,e,a){"use strict";a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return n})),a.d(e,"c",(function(){return c})),a.d(e,"d",(function(){return r}));var i=a("b775");function l(t,e,a){return Object(i["a"])({url:"cs/book",method:"get",params:{page:t,limit:"10",filters:e,ops:a}})}function s(t){return Object(i["a"])({url:"cs/book",method:"delete",params:{ids:t}})}function o(t){return Object(i["a"])({url:"cs/book",method:"post",data:t})}function n(t){return Object(i["a"])({url:"cs/book/".concat(t),method:"get"})}function c(t,e){return Object(i["a"])({url:"cs/book/".concat(t),method:"PUT",data:e})}function r(t){return Object(i["a"])({url:"cs/book/pack_book/".concat(t),method:"post"})}},d0ea:function(t,e,a){},ed5d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新建教材",visible:t.dialogVisible,width:"100%","custom-class":"customWidth",center:"",top:"0","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"left"},[a("div",[a("label",[t._v("教材名称:")]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入教材名称，字数最多20字内",maxlength:"19"},model:{value:t.materialName,callback:function(e){t.materialName=e},expression:"materialName"}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材封面:",size:"2097152",type:".jpg,.png",limit:1},on:{files:t.materialCover}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材课时封面:",type:".jpg,.png",size:"2097152",limit:1},on:{files:t.materialClassCover}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片尺寸120x120并小于1M，格式为png",label:"乐器图标:",type:".png",limit:1,size:"1048576"},on:{files:t.icon}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材目标:")]),t._v(" "),a("el-input",{staticClass:"input Target",attrs:{placeholder:"请输入教材目标，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:t.materialTarget,callback:function(e){t.materialTarget=e},expression:"materialTarget"}})],1)]),t._v(" "),a("div",{staticClass:"right"},[a("div",[a("single-image",{attrs:{msg:"视频格式为mp4",label:"教材介绍视频:",type:".mp4",limit:1},on:{files:t.materialVideo}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材文字详情:")]),t._v(" "),a("el-input",{staticClass:"input textarea",attrs:{placeholder:"请输入教材文字详情，字数最多300字内",type:"textarea",maxlength:"299"},model:{value:t.materialDetail,callback:function(e){t.materialDetail=e},expression:"materialDetail"}})],1),t._v(" "),a("div",[a("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png",label:"教材详情图:",type:".jpg,.png",size:"2097152"},on:{files:t.materialDetailed}})],1),t._v(" "),a("div",[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("教材目录：")]),t._v(" "),t.Catalogue.length>0?a("div",{staticClass:"allCatalogue"},[a("span",[t._v("共")]),t._v(" "),a("div",{staticStyle:{margin:"0 5px 0 5px","text-align":"center"}},[t._v(t._s(t.Catalogue.length))]),t._v(" "),a("span",[t._v("个目录")])]):t._e(),t._v(" "),t.Catalogue.length>0?a("div",{staticClass:"materialCatalogue"},t._l(t.Catalogue,(function(e,i){return a("div",{key:i,staticClass:"oneCatalogue"},[a("svg-icon",{staticClass:"laji",attrs:{"class-name":"search-icon","icon-class":"laji"},on:{click:function(e){return t.deleCatalogue(i)}}}),t._v(" "),a("div",{staticClass:"No",staticStyle:{"text-align":"center"}},[t._v(t._s(i+1))]),t._v(" "),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入目录名称，字数最多20字内",maxlength:"20"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1)})),0):t._e(),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.newCatalogue}},[t._v("新增")])],1),t._v(" "),a("div",{staticStyle:{width:"630px"}},[a("label",{staticStyle:{"vertical-align":"top"}},[t._v("单价课价格：")]),t._v(" "),a("el-radio-group",{attrs:{"text-color":"#585B63"},on:{change:t.radioChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio",{staticStyle:{display:"block"},attrs:{label:0}},[t._v("关闭")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("开启")])],1),t._v(" "),t.priceShow?a("div",{staticStyle:{display:"inline-block","vertical-align":"bottom"}},[a("el-input",{staticClass:"input",staticStyle:{width:"106px"},attrs:{placeholder:"请输入价格",maxlength:"20"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v(" "),a("span",[t._v("元/30分钟")])],1):t._e()],1)]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.addA}},[t._v("确 定")])],1)])},l=[],s=a("b3d8"),o=a("70a2"),n=a("5c96"),c={components:{SingleImage:o["a"]},props:["dialogVisible"],data:function(){return{dialogVisibleii:this.dialogVisible,radio:0,materialName:"",materialTarget:"",materialDetail:"",price:0,remark:"",Catalogue:[],CatalogueNum:0,openPrice:0,priceShow:!1,materialCoverI:"",materialClassCoverI:"",iconI:"",materialVideoV:"",materialDetailedI:""}},methods:{close:function(){this.$emit("close",!1)},file:function(t){console.log(t)},handleClose:function(){this.$emit("close",!1)},materialCover:function(t){this.materialCoverI=t[0].url},materialClassCover:function(t){this.materialClassCoverI=t[0].url},icon:function(t){this.iconI=t[0].url},materialVideo:function(t){this.materialVideoV=t[0].url},materialDetailed:function(t){this.materialDetailedI=t[0].url},newCatalogue:function(){this.CatalogueNum=this.CatalogueNum+1,this.CatalogueNum<=9?this.Catalogue.push({directory_no:parseInt("0".concat(this.CatalogueNum)),title:""}):this.Catalogue.push({directory_no:parseInt("".concat(this.CatalogueNum)),title:""})},deleCatalogue:function(t){this.Catalogue.splice(t,1),console.log(this.Catalogue)},radioChange:function(t){1==t?(this.priceShow=!0,this.openPrice=1):(this.priceShow=!1,this.openPrice=0,this.price=0),console.log(t)},addA:function(){for(var t=this,e=[],a=0;a<this.Catalogue.length;a++)this.Catalogue[a].title.trim()&&e.push(this.Catalogue[a]);var i={title:this.materialName,cover:this.materialCoverI,class_cover:this.materialClassCoverI,icon:this.iconI,goal:this.materialTarget,video:this.materialVideoV,details:this.materialDetail,details_image:this.materialDetailedI,is_class_price:this.openPrice,directory_list:e,class_price:this.price,remark:this.remark};Object(s["a"])(i).then((function(e){console.log(e),0==e.error_code&&Object(n["Message"])({message:"添加成功",type:"success",duration:5e3}),t.$emit("close",!0)})).catch((function(t){reject(t)}))}}},r=c,u=(a("7e25"),a("2877")),d=Object(u["a"])(r,i,l,!1,null,"4f7625cc",null);e["default"]=d.exports}}]);