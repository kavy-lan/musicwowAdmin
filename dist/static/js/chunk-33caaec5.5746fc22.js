(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33caaec5"],{"1d74":function(t,e,i){"use strict";var n=i("6ff0"),a=i.n(n);a.a},3123:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("b775");function a(){return Object(n["a"])({url:"/qiniu/upload/token",method:"get"})}},"622b":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"e",(function(){return l})),i.d(e,"d",(function(){return r})),i.d(e,"f",(function(){return c}));var n=i("b775");function a(t,e,i){return Object(n["a"])({url:"admin",method:"get",params:{page:t,limit:"10",filters:e,ops:i}})}function s(t,e,i,a,s){return Object(n["a"])({url:"admin",method:"post",params:{username:t,mobile:e,head_img:i,remark:a,auth_ids:s}})}function o(t){return Object(n["a"])({url:"admin",method:"delete",params:{ids:t}})}function l(t){return Object(n["a"])({url:"admin/".concat(t),method:"get"})}function r(t,e,i,a,s,o){return Object(n["a"])({url:"admin/".concat(t),method:"put",params:{username:e,mobile:i,head_img:a,remark:s,auth_ids:o}})}function c(t,e){return Object(n["a"])({url:"admin/reset_password/".concat(t),method:"put",params:{password:e}})}},"6ff0":function(t,e,i){},"91b6":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("b775");function a(){return Object(n["a"])({url:"public/upload_config",method:"get"})}},e68e:function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"添加用户",visible:t.dialogVisible,width:"100%","custom-class":"customWidth",center:"",top:"0","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"left"},[i("div",[i("label",[t._v("用户名:")]),t._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"请输入用户名，字数最多20字内(必选)",maxlength:"20"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),i("div",[i("label",[t._v("手机:")]),t._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"请输入手机号码(必选)",maxlength:"20"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),t._v(" "),i("div",[i("label",[t._v("授权角色:")]),t._v(" "),i("el-input",{staticClass:"input",attrs:{placeholder:"请输入授权角色，字数最多20字内",maxlength:"20"},model:{value:t.auth_ids,callback:function(e){t.auth_ids=e},expression:"auth_ids"}})],1),t._v(" "),i("div",[i("single-image",{attrs:{msg:"图片小于2M，格式为jpg、png(必选)",label:"头像:",type:".jpg,.png",size:"2097152",limit:3},on:{files:t.file}})],1),t._v(" "),i("div",[i("label",{staticStyle:{"vertical-align":"top"}},[t._v("备注信息:")]),t._v(" "),i("el-input",{staticClass:"input textarea",attrs:{placeholder:"请输入教材备注信息，字数最多300字内",type:"textarea",maxlength:"300"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),t._v(" "),i("div",{staticStyle:{display:"none"}},[t._v(t._s(t.sum))]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"info",disabled:t.Exist},on:{click:t.addA}},[t._v("确 定")])],1)])},s=[],o=i("bd86"),l=(i("28a5"),i("c5f6"),i("70a2")),r=i("622b"),c=i("5c96"),u={components:{SingleImage:l["a"]},props:["dialogVisible"],data:function(){return{dialogVisibleii:this.dialogVisible,radio:"1",username:"",mobile:"",auth_ids:"",remark:"",img:"",ifExist:0,Exist:!0}},computed:{sum:function(){this.ifExist=Number(Boolean(this.username))+Number(Boolean(this.mobile))+Number(Boolean(this.img))}},watch:{ifExist:function(t,e){3==Number(t)?this.Exist=!1:this.Exist=!0}},methods:(n={close:function(){this.$emit("close",!1)},file:function(t){console.log(t)}},Object(o["a"])(n,"file",(function(t){t.length>0?this.img=t[0].url:this.img=""})),Object(o["a"])(n,"handleClose",(function(){this.$emit("close",!1)})),Object(o["a"])(n,"addA",(function(){var t=this;return new Promise((function(e,i){var n=t.auth_ids.split(""),a=n.join(",");Object(r["a"])(t.username,t.mobile,t.img,t.remark,a).then((function(e){console.log(e),0==e.error_code&&Object(c["Message"])({message:"添加成功",type:"success",duration:5e3}),t.$emit("close",!0)})).catch((function(t){i(t)}))}))})),n)},d=u,m=(i("1d74"),i("2877")),f=Object(m["a"])(d,a,s,!1,null,"0633bbb9",null);e["default"]=f.exports}}]);